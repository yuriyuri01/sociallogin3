"use strict";(self["webpackChunkvueportable"]=self["webpackChunkvueportable"]||[]).push([[62],{8994:function(e,n,o){o.r(n),o.d(n,{default:function(){return l}});var t=o(6768);const i={key:0,id:"naverIdLogin"};function s(e,n,o,s,r,c){return(0,t.uX)(),(0,t.CE)("div",null,[r.accessToken?(0,t.Q3)("",!0):((0,t.uX)(),(0,t.CE)("div",i)),r.accessToken?((0,t.uX)(),(0,t.CE)("button",{key:1,type:"button",onClick:n[0]||(n[0]=(...e)=>c.logout&&c.logout(...e))},"로그아웃")):(0,t.Q3)("",!0)])}var r={data(){return{naverLogin:null,accessToken:null}},mounted(){this.initializeNaverLoginButton()},methods:{initializeNaverLoginButton(){try{this.naverLogin=new window.naver.LoginWithNaverId({clientId:"GlQfcfZ0XZr41oi2CBCD",callbackUrl:"https://yuriyuri01.github.io/sociallogin3/naverlogin",isPopup:!1,loginButton:{color:"green",type:3,height:60}}),this.naverLogin.init(),this.naverLogin.getLoginStatus(e=>{e?this.checkLoginStatus():console.log("로그인되지 않은 상태입니다.")})}catch(e){console.error("네이버 로그인 초기화 중 오류 발생:",e)}},checkLoginStatus(){this.naverLogin?this.naverLogin.getLoginStatus(e=>{if(e){const e=this.naverLogin.user.getEmail();if(!e)return alert("이메일은 필수 정보입니다. 정보 제공을 동의해주세요."),void this.naverLogin.reprompt();this.accessToken=this.naverLogin.accessToken.accessToken,console.log("로그인 성공!",e)}else console.log("콜백 처리에 실패하였습니다.")}):console.error("네이버 로그인 객체가 초기화 되지 않았습니다.")},logout(){if(!this.accessToken)return void console.log("로그인 상태가 아닙니다.");const e=`https://nid.naver.com/oauth2.0/token?grant_type=delete&client_id=GlQfcfZ0XZr41oi2CBCD&client_secret=U6Mbsivs6M&access_token=${this.accessToken}&service_provider=NAVER`,n=document.createElement("iframe");n.style.display="none",n.src=e,document.body.appendChild(n),this.accessToken=null,this.$nextTick(()=>{this.initializeNaverLoginButton()}),console.log("로그아웃 요청이 실행되었습니다.")}}},c=o(1241);const a=(0,c.A)(r,[["render",s]]);var l=a}}]);
//# sourceMappingURL=naverlogin.03f642ee.js.map