{"version":3,"file":"js/naverlogin.03f642ee.js","mappings":"8LAGaA,GAAG,gB,0CAFZC,EAAAA,EAAAA,IAIM,YAF4BC,EAAAC,a,4BAA9BF,EAAAA,EAAAA,IAAiD,MAAjDG,IAC4CF,EAAAC,c,WAA5CF,EAAAA,EAAAA,IAAsE,U,MAA9DI,KAAK,SAAUC,QAAKC,EAAA,KAAAA,EAAA,OAAAC,IAAEC,EAAAC,QAAAD,EAAAC,UAAAF,KAA2B,U,iBAIjE,OACIG,IAAAA,GACI,MAAO,CACHC,WAAY,KACZT,YAAa,KAErB,EACAU,OAAAA,GAEIC,KAAKC,4BACT,EACAC,QAAS,CACLD,0BAAAA,GACI,IACID,KAAKF,WAAa,IAAIK,OAAOC,MAAMC,iBAAiB,CAChDC,SAAU,uBAEVC,YAAa,uDAEbC,SAAS,EACTC,YAAa,CAAEC,MAAO,QAASnB,KAAM,EAAGoB,OAAQ,MAGpDX,KAAKF,WAAWc,OAGhBZ,KAAKF,WAAWe,eAAgBC,IACxBA,EAEAd,KAAKe,mBAELC,QAAQC,IAAI,oBAGxB,CAAE,MAAOC,GAELF,QAAQE,MAAM,uBAAwBA,EAC1C,CACJ,EAEAH,gBAAAA,GACSf,KAAKF,WAKVE,KAAKF,WAAWe,eAAgBC,IAC5B,GAAIA,EAAQ,CACR,MAAMK,EAAQnB,KAAKF,WAAWsB,KAAKC,WACnC,IAAKF,EAGD,OAFAG,MAAM,sCACNtB,KAAKF,WAAWyB,WAIpBvB,KAAKX,YAAcW,KAAKF,WAAWT,YAAYA,YAC/C2B,QAAQC,IAAI,UAAWE,EAC3B,MAEIH,QAAQC,IAAI,qBAjBhBD,QAAQE,MAAM,4BAoBtB,EAEAtB,MAAAA,GACI,IAAKI,KAAKX,YAEN,YADA2B,QAAQC,IAAI,iBAIhB,MAAMO,EAAY,+HAA+HxB,KAAKX,qCAGhJoC,EAASC,SAASC,cAAc,UACtCF,EAAOG,MAAMC,QAAU,OACvBJ,EAAOK,IAAMN,EACbE,SAASK,KAAKC,YAAYP,GAG1BzB,KAAKX,YAAc,KAGnBW,KAAKiC,UAAU,KACXjC,KAAKC,+BAGTe,QAAQC,IAAI,oBAChB,I,UC1FR,MAAMiB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O","sources":["webpack://vueportable/./src/views/NaverLogin.vue","webpack://vueportable/./src/views/NaverLogin.vue?7d99"],"sourcesContent":["<template>\r\n    <div>\r\n        <!-- 네이버 로그인 -->\r\n        <div id=\"naverIdLogin\" v-if=\"!accessToken\"></div>\r\n        <button type=\"button\" @click=\"logout\" v-if=\"accessToken\">로그아웃</button>\r\n    </div>\r\n</template>\r\n<script>\r\nexport default {\r\n    data() {\r\n        return {\r\n            naverLogin: null,\r\n            accessToken: null\r\n        };\r\n    },\r\n    mounted() {\r\n        /* 컴포넌트가 화면에 렌더링된 후 실행되는 라이프사이클 훅 */\r\n        this.initializeNaverLoginButton(); /* 네이버 로그인 버튼 초기화 */\r\n    },\r\n    methods: {\r\n        initializeNaverLoginButton() {\r\n            try {\r\n                this.naverLogin = new window.naver.LoginWithNaverId({\r\n                    clientId: 'GlQfcfZ0XZr41oi2CBCD' /* 네이버 클라이언트 아이디 */,\r\n                    /* callbackUrl: 'http://localhost:8080/naverlogin', */\r\n                    callbackUrl: 'https://yuriyuri01.github.io/sociallogin3/naverlogin', // ← 여기만 수정!\r\n\r\n                    isPopup: false,\r\n                    loginButton: { color: 'green', type: 3, height: 60 }\r\n                });\r\n                /* 네이버 로그인 sdk 초기화 */\r\n                this.naverLogin.init();\r\n\r\n                /* 초기화 후 로그인 상태 확인 */\r\n                this.naverLogin.getLoginStatus((status) => {\r\n                    if (status) {\r\n                        /* 로그인 상태인 경우 */\r\n                        this.checkLoginStatus();\r\n                    } else {\r\n                        console.log('로그인되지 않은 상태입니다.');\r\n                    }\r\n                });\r\n            } catch (error) {\r\n                /* 초기화 중 오류 발생 시 에러 출력 */\r\n                console.error('네이버 로그인 초기화 중 오류 발생:', error);\r\n            }\r\n        },\r\n        /* 로그인 상태를 확인하고 사용자 정보 가져오기 */\r\n        checkLoginStatus() {\r\n            if (!this.naverLogin) {\r\n                console.error('네이버 로그인 객체가 초기화 되지 않았습니다.');\r\n                return;\r\n            }\r\n            /* 로그인 상태 확인 */\r\n            this.naverLogin.getLoginStatus((status) => {\r\n                if (status) {\r\n                    const email = this.naverLogin.user.getEmail();\r\n                    if (!email) {\r\n                        alert('이메일은 필수 정보입니다. 정보 제공을 동의해주세요.');\r\n                        this.naverLogin.reprompt(); /* 동의 팝업 다시 표시 */\r\n                        return;\r\n                    }\r\n                    /* 엑세스 토큰 저장 */\r\n                    this.accessToken = this.naverLogin.accessToken.accessToken;\r\n                    console.log('로그인 성공!', email);\r\n                } else {\r\n                    /* 로그인 상태가 아니거나 콜백 처리 실패 시, */\r\n                    console.log('콜백 처리에 실패하였습니다.');\r\n                }\r\n            });\r\n        },\r\n        /* 로그아웃 코드 */\r\n        logout() {\r\n            if (!this.accessToken) {\r\n                console.log('로그인 상태가 아닙니다.');\r\n                return;\r\n            }\r\n            /* 로그아웃인 경우 네이버 로그인 버튼 디자인 */\r\n            const logoutUrl = `https://nid.naver.com/oauth2.0/token?grant_type=delete&client_id=GlQfcfZ0XZr41oi2CBCD&client_secret=U6Mbsivs6M&access_token=${this.accessToken}&service_provider=NAVER`;\r\n\r\n            /* iframe 생성하여 url 호출 */\r\n            const iframe = document.createElement('iframe');\r\n            iframe.style.display = 'none';\r\n            iframe.src = logoutUrl;\r\n            document.body.appendChild(iframe);\r\n\r\n            /* 엑세스 토큰 초기화 */\r\n            this.accessToken = null;\r\n\r\n            /* DOM 업데이트 후 로그인 버튼 초기화 */\r\n            this.$nextTick(() => {\r\n                this.initializeNaverLoginButton();\r\n            });\r\n\r\n            console.log('로그아웃 요청이 실행되었습니다.');\r\n        }\r\n    }\r\n};\r\n</script>\r\n","import { render } from \"./NaverLogin.vue?vue&type=template&id=8c9935d4\"\nimport script from \"./NaverLogin.vue?vue&type=script&lang=js\"\nexport * from \"./NaverLogin.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["id","_createElementBlock","$data","accessToken","_hoisted_1","type","onClick","_cache","args","$options","logout","data","naverLogin","mounted","this","initializeNaverLoginButton","methods","window","naver","LoginWithNaverId","clientId","callbackUrl","isPopup","loginButton","color","height","init","getLoginStatus","status","checkLoginStatus","console","log","error","email","user","getEmail","alert","reprompt","logoutUrl","iframe","document","createElement","style","display","src","body","appendChild","$nextTick","__exports__","render"],"sourceRoot":""}